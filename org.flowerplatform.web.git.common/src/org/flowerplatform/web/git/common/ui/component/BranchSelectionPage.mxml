<?xml version="1.0" encoding="utf-8"?>
<!--
@author Cristina Constantinescu
-->
<popup:CustomTitlePanel xmlns:fx="http://ns.adobe.com/mxml/2009" 
						xmlns:s="library://ns.adobe.com/flex/spark" 
						xmlns:mx="library://ns.adobe.com/flex/mx" xmlns:popup="com.crispico.flower.util.panel.*" 
						
						headerHeight="0" borderStyle="none" xmlns:tree="org.flowerplatform.communication.tree.*" >
	<fx:Script>
		<![CDATA[
			import mx.collections.IList;
			
			import org.flowerplatform.web.git.common.GitCommonPlugin;
			import org.flowerplatform.communication.tree.remote.TreeNode;
					
			public function getSelectedBranch():String {
				var selection:IList = tree.getSelection();
				if (selection.length == 0) {
					return null;
				}
				var node:TreeNode = TreeNode(selection.getItemAt(0));
				if (node != null) {
					if (node.pathFragment.type == GitCommonPlugin.NODE_TYPE_LOCAL_BRANCH ||
						node.pathFragment.type == GitCommonPlugin.NODE_TYPE_REMOTE_BRANCH ||
						node.pathFragment.type == GitCommonPlugin.NODE_TYPE_TAG) {
						return node.pathFragment.name;
					}					
				}
				return null;
			}
						
		]]>
	</fx:Script>
		
	<tree:GenericTreeList width="100%" height="100%" id="tree" dispatchEnabled="false"  />
	
</popup:CustomTitlePanel>
